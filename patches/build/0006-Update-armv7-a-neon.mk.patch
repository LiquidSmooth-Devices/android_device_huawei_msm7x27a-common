From 55d0ab23ed4d1eda64c12306b37c47f1fd902969 Mon Sep 17 00:00:00 2001
From: Y300-0100 <bosko.brajovich@gmail.com>
Date: Sun, 17 Aug 2014 21:48:26 +0200
Subject: [PATCH 6/7] Update armv7-a-neon.mk

---
 core/combo/arch/arm/armv7-a-neon.mk |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

diff --git a/core/combo/arch/arm/armv7-a-neon.mk b/core/combo/arch/arm/armv7-a-neon.mk
index f75682d..9296348 100644
--- a/core/combo/arch/arm/armv7-a-neon.mk
+++ b/core/combo/arch/arm/armv7-a-neon.mk
@@ -9,29 +9,32 @@ ARCH_ARM_HAVE_NEON              := true
 ifeq ($(TARGET_CPU_VARIANT),$(filter $(TARGET_CPU_VARIANT),cortex-a15 krait))
 	arch_variant_cflags := -mcpu=cortex-a15
 else
-ifeq ($(strip $(TARGET_CPU_VARIANT)),cortex-a8)
-	arch_variant_cflags := -mcpu=cortex-a8
+ifeq ($(strip $(TARGET_CPU_VARIANT)),cortex-a9)
+	arch_variant_cflags := -mcpu=cortex-a9
 else
-ifeq ($(strip $(TARGET_CPU_VARIANT)),scorpion)
+ifeq ($(strip $(TARGET_CPU_VARIANT)),cortex-a8)
 	arch_variant_cflags := -mcpu=cortex-a8
 else
 ifeq ($(strip $(TARGET_CPU_VARIANT)),cortex-a7)
 	arch_variant_cflags := -mcpu=cortex-a7
 else
+ifeq ($(strip $(TARGET_CPU_VARIANT)),cortex-a5)
+	arch_variant_cflags := -mcpu=cortex-a5
+else
+ifeq ($(strip $(TARGET_CPU_VARIANT)),scorpion)
+	arch_variant_cflags := -mcpu=cortex-a8
+else
 	arch_variant_cflags := -march=armv7-a
 endif
 endif
 endif
 endif
+endif
+endif
 
 arch_variant_cflags += \
     -mfloat-abi=softfp \
     -mfpu=neon
 
-ifneq (,$(findstring cpu=cortex-a9,$(TARGET_EXTRA_CFLAGS)))
-arch_variant_ldflags := \
-	-Wl,--no-fix-cortex-a8
-else
 arch_variant_ldflags := \
 	-Wl,--fix-cortex-a8
-endif
-- 
1.7.9.5
